"use strict";(self["webpackChunkmanage"]=self["webpackChunkmanage"]||[]).push([[814],{833:function(a,t,e){e.d(t,{Z:function(){return c}});var l=function(){var a=this,t=a._self._c;return t("div",[t("el-breadcrumb",{attrs:{separator:"/"}},a._l(a.breadList,(function(e,l){return t("el-breadcrumb-item",{key:l},[a._v(a._s(e))])})),1)],1)},r=[],n={data(){return{breadList:[]}},created(){this.getBreadCrumb()},watch:{$route(){this.getBreadCrumb()}},methods:{getBreadCrumb(){this.breadList=this.$route.meta.bread||[]}}},s=n,o=e(1001),i=(0,o.Z)(s,l,r,!1,null,"5fe194f7",null),c=i.exports},8814:function(a,t,e){e.r(t),e.d(t,{default:function(){return u}});var l=function(){var a=this,t=a._self._c;return t("div",[t("Bread-Crumb"),t("el-card",[t("el-row",{attrs:{gutter:16}},[t("el-col",{attrs:{span:4}},[t("el-input",{attrs:{placeholder:"请输入资产编号"},model:{value:a.params.waybillNo,callback:function(t){a.$set(a.params,"waybillNo",t)},expression:"params.waybillNo"}})],1),t("el-col",{attrs:{span:4}},[t("el-input",{attrs:{placeholder:"请输入使用人名称"},model:{value:a.params.name,callback:function(t){a.$set(a.params,"name",t)},expression:"params.name"}})],1),t("el-col",{attrs:{span:4}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择入库时间日期"},model:{value:a.value1,callback:function(t){a.value1=t},expression:"value1"}})],1),t("el-col",{attrs:{span:6}},[t("el-date-picker",{attrs:{type:"date",placeholder:"选择出库时间日期"},model:{value:a.value1,callback:function(t){a.value1=t},expression:"value1"}})],1),t("el-col",{staticStyle:{"text-align":"right"},attrs:{span:6}},[t("el-button",{attrs:{type:"primary"},on:{click:a.loadData}},[a._v("查询")]),t("el-button",{attrs:{type:"primary"}},[a._v("重置")])],1)],1)],1),t("el-card",{staticClass:"mt_10 mb_10"},[t("el-radio-group",{on:{change:a.loadData},model:{value:a.params.status,callback:function(t){a.$set(a.params,"status",t)},expression:"params.status"}},[t("el-radio-button",{attrs:{label:"1"}},[a._v("全部资产(300)")]),t("el-radio-button",{attrs:{label:"2"}},[a._v("在仓库(120)")]),t("el-radio-button",{attrs:{label:"3"}},[a._v("笔记本电脑(70)")]),t("el-radio-button",{attrs:{label:"4"}},[a._v("打印机(100)")]),t("el-radio-button",{attrs:{label:"5"}},[a._v("台式(10)")])],1)],1),t("el-card",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:a.tableData,"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"}},[t("el-table-column",{attrs:{prop:"asset_number",label:"资产编号",width:"180",fixed:"left"}}),t("el-table-column",{attrs:{prop:"asset_type",label:"资产类型",width:"180"}}),t("el-table-column",{attrs:{prop:"employee_id",label:"使用人",width:"180"}}),t("el-table-column",{attrs:{prop:"entry_time",label:"出/入库时间",width:"180"}}),t("el-table-column",{attrs:{prop:"exit_record",label:"备注",width:"180"}}),t("el-table-column",{attrs:{prop:"brand",label:"资产品牌",width:"180"}}),t("el-table-column",{attrs:{prop:"model",label:"资产型号",width:"180"}}),t("el-table-column",{attrs:{prop:"cpu",label:"CPU",width:"180"}}),t("el-table-column",{attrs:{prop:"memory",label:"内存",width:"180"}}),t("el-table-column",{attrs:{prop:"",label:"显卡",width:"180"}}),t("el-table-column",{attrs:{label:"操作",width:"180",fixed:"right"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{size:"mini",type:"danger"}},[a._v("出入库")]),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return a.detail(e.row.no)}}},[a._v("详情")])]}}])})],1),t("el-pagination",{staticClass:"fr mt mb",attrs:{"current-page":a.pageData.page,"page-sizes":[10,20,30,40],"page-size":a.pageData.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:a.total},on:{"size-change":a.handleSizeChange,"current-change":a.handleCurrentChange}})],1)],1)},r=[],n=e(833),s=e(212),o=e(3822),i={components:{BreadCrumb:n.Z},data(){return{tableData:[],params:{waybillNo:"",name:"",status:1},date:[],pageData:{page:1,pageSize:10},loading:!1,total:0,value1:""}},created(){this.loadData()},methods:{async loadData(){this.loading=!0;const a=await(0,s.U2)("/assets/list",this.pageData);this.tableData=a.data.rows,this.total=a.data.count,this.loading=!1},handleSizeChange(a){this.pageData.pageSize=a,this.loadData()},handleCurrentChange(a){this.pageData.page=a,this.loadData()},detail(a){this.$router.push("list/detail?no="+a+"&this="+this)},crearCache(){let a=this.$vnode,t=a&&a.parent;if(t&&t.componentInstance&&t.componentInstance.cache){var e=null==a.key?a.componentOptions.Ctor.cid+(a.componentOptions.tag?`::${a.componentOptions.tag}`:""):a.key,l=t.componentInstance.cache,r=t.componentInstance.keys;if(l[e]){if(this.$destroy(),r.length){var n=r.indexOf(e);n>-1&&r.splice(n,1)}l[e]=null}}},...(0,o.OI)(["changeIsFromDetail"])},beforeRouteLeave(a,t,e){"/waybill/list/detail"==a.path?t.meta.keepAlive=!0:this.crearCache(),e()},activated(){this.isFromDetail&&(this.loadData(),this.changeIsFromDetail(!1))},computed:(0,o.rn)(["isFromDetail"])},c=i,p=e(1001),d=(0,p.Z)(c,l,r,!1,null,"77479830",null),u=d.exports}}]);
//# sourceMappingURL=814.a9dc0907.js.map