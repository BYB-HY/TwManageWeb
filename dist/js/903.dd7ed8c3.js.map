{"version":3,"file":"js/903.dd7ed8c3.js","mappings":"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","sources":["webpack://manage/./src/components/BreadCrumb.vue","webpack://manage/src/components/BreadCrumb.vue","webpack://manage/./src/components/BreadCrumb.vue?6c60","webpack://manage/./src/components/BreadCrumb.vue?187d","webpack://manage/./src/views/Staff/StaffList.vue","webpack://manage/./src/views/Staff/StaffModal.vue","webpack://manage/src/views/Staff/StaffModal.vue","webpack://manage/./src/views/Staff/StaffModal.vue?21d2","webpack://manage/./src/views/Staff/StaffModal.vue?9b1d","webpack://manage/src/views/Staff/StaffList.vue","webpack://manage/./src/views/Staff/StaffList.vue?fe69","webpack://manage/./src/views/Staff/StaffList.vue?f595"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},_vm._l((_vm.breadList),function(item,index){return _c('el-breadcrumb-item',{key:index},[_vm._v(_vm._s(item))])}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-breadcrumb separator=\"/\">\r\n            <el-breadcrumb-item v-for=\"(item,index) in breadList\" :key=\"index\">{{item}}</el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        data(){\r\n        return{\r\n            breadList:[]\r\n        }\r\n    },\r\n    created(){\r\n        this.getBreadCrumb()\r\n    },\r\n    watch:{\r\n        //data 计算属性 props  $route(params,query变了，路由页面没变，只是数据变了)\r\n        $route(){\r\n            this.getBreadCrumb()\r\n        }\r\n    },\r\n    methods:{\r\n        getBreadCrumb(){\r\n            this.breadList = this.$route.meta.bread || []\r\n        }\r\n    }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.el-breadcrumb{\r\n    margin-bottom: 10px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BreadCrumb.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BreadCrumb.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BreadCrumb.vue?vue&type=template&id=5fe194f7&scoped=true&\"\nimport script from \"./BreadCrumb.vue?vue&type=script&lang=js&\"\nexport * from \"./BreadCrumb.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BreadCrumb.vue?vue&type=style&index=0&id=5fe194f7&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5fe194f7\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('BreadCrumb'),_c('el-card',{staticClass:\"mt\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入员工号或姓名\"},model:{value:(_vm.params.searchValue),callback:function ($$v) {_vm.$set(_vm.params, \"searchValue\", $$v)},expression:\"params.searchValue\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},slot:\"append\"})],1)],1),_c('el-col',{staticClass:\"operate\",attrs:{\"span\":18}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.visible=true}}},[_vm._v(\"员工入职\")])],1)],1)],1),_c('el-card',[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\"}}),_c('el-table-column',{attrs:{\"prop\":\"employee_id\",\"label\":\"员工号\",\"width\":\"100\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"姓名\",\"width\":\"120\",\"fixed\":\"left\"}}),_c('el-table-column',{attrs:{\"prop\":\"mobile_phone\",\"label\":\"手机\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"QQ\",\"label\":\"QQ\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"prop\":\"landline_phone\",\"label\":\"座机电话\",\"width\":\"200\"}}),_c('el-table-column',{attrs:{\"prop\":\"begin_date\",\"label\":\"入职时间\",\"width\":\"250\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.edit(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"type\":\"danger\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.deletes(scope.row.employee_id)}}},[_vm._v(\"离职\")])]}}])})],1),_c('el-pagination',{staticClass:\"fr mt mb\",attrs:{\"current-page\":_vm.params.page,\"page-sizes\":[10, 20, 30, 40],\"page-size\":_vm.params.per_page,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('StaffModal',{attrs:{\"visible\":_vm.visible},on:{\"hide\":function($event){_vm.visible=false},\"reload\":function($event){return _vm.loadData()}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"width\":\"50%\",\"before-close\":_vm.close}},[_c('el-row',{attrs:{\"gutter\":20}},[_c('el-form',{ref:\"ruleform\",attrs:{\"model\":_vm.ruleForm,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"label\":\"员工号\",\"prop\":\"employee_id\"}},[_vm._v(\" \"+_vm._s(_vm.ruleForm.employee_id)+\" \")]),_c('el-form-item',{attrs:{\"label\":\"姓名\",\"prop\":\"name\"}},[_c('el-input',{model:{value:(_vm.ruleForm.name),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"name\", $$v)},expression:\"ruleForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"座机电话\",\"prop\":\"landline_phone\"}},[_c('el-input',{model:{value:(_vm.ruleForm.landline_phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"landline_phone\", $$v)},expression:\"ruleForm.landline_phone\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"mobile_phone\",\"label\":\"手机\"}},[_c('el-input',{model:{value:(_vm.ruleForm.mobile_phone),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"mobile_phone\", $$v)},expression:\"ruleForm.mobile_phone\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"QQ\",\"label\":\"QQ\"}},[_c('el-input',{model:{value:(_vm.ruleForm.QQ),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"QQ\", $$v)},expression:\"ruleForm.QQ\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"email\",\"label\":\"邮箱\"}},[_c('el-input',{model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}})],1)],1),_c('el-col',{attrs:{\"span\":12}},[_c('el-form-item',{attrs:{\"prop\":\"begin_date\",\"label\":\"入职时间\"}},[_c('el-input',{model:{value:(_vm.ruleForm.begin_date),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"begin_date\", $$v)},expression:\"ruleForm.begin_date\"}})],1)],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.close}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.save}},[_vm._v(\"保存\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <el-dialog\r\n            :title=\"title\"\r\n            :visible=\"visible\"\r\n            width=\"50%\"\r\n            :before-close=\"close\"\r\n        >\r\n            <el-row :gutter=\"20\">\r\n                <el-form :model=\"ruleForm\" label-width=\"80px\" :rules=\"rules\" ref=\"ruleform\">\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item label=\"员工号\" prop=\"employee_id\">\r\n                            {{ruleForm.employee_id}}\r\n                        </el-form-item>\r\n                        <el-form-item label=\"姓名\" prop=\"name\">\r\n                            <el-input v-model=\"ruleForm.name\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item label=\"座机电话\" prop=\"landline_phone\">\r\n                            <el-input v-model=\"ruleForm.landline_phone\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"mobile_phone\" label=\"手机\">\r\n                            <el-input v-model=\"ruleForm.mobile_phone\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"QQ\" label=\"QQ\">\r\n                            <el-input v-model=\"ruleForm.QQ\"></el-input>\r\n                        </el-form-item>\r\n                        <el-form-item prop=\"email\" label=\"邮箱\">\r\n                            <el-input v-model=\"ruleForm.email\"></el-input>\r\n                        </el-form-item>\r\n                    </el-col>\r\n                    <el-col :span=\"12\">\r\n                        <el-form-item prop=\"begin_date\" label=\"入职时间\">\r\n                            <el-input v-model=\"ruleForm.begin_date\"></el-input>\r\n                        </el-form-item>\r\n                        <!-- <el-form-item label=\"名下资产\" prop=\"price\">\r\n                        </el-form-item> -->\r\n                    </el-col>\r\n                </el-form>  \r\n            </el-row>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"close\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"save\">保存</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {post} from \"@/utils/http\"\r\nimport { mapState, mapMutations } from \"vuex\"\r\n    export default {\r\n        props:[\"visible\"],\r\n        data(){\r\n            return{\r\n                ruleForm:{\r\n                    employee_id:\"\",\r\n                    name:\"\",\r\n                    landline_phone:\"\",\r\n                    mobile_phone:\"\",\r\n                    QQ: \"\",\r\n                    email:\"\",\r\n                    begin_date:\"\"\r\n                },\r\n                rules:{\r\n                    name:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    email:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    begin_date:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    cargo:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    count:[\r\n                        {required:true,message:\"不能为空\",trigger:\"blur\"},\r\n                        {pattern:/^\\d+$/,message:\"只能为数字\",trigger:\"blur\"}\r\n                    ],\r\n                    unit:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    price:[{required:true,message:\"不能为空\",trigger:\"blur\"}],\r\n                    from:[{required:true,message:\"不能为空\",trigger:\"change\"}],\r\n                    pay:[{required:true,message:\"不能为空\",trigger:\"change\"}],\r\n                },\r\n                title:\"新建订单\",\r\n            }\r\n        },\r\n        computed:{\r\n            ...mapState([\"row\"])\r\n        },\r\n        watch:{\r\n            visible(){\r\n                this.title = this.row.name?\"编辑信息\" : \"员工入职\"\r\n                this.ruleForm=this.row\r\n            }\r\n        },\r\n        methods:{\r\n            ...mapMutations([\"clearRow\"]),\r\n            close(){\r\n                this.$refs.ruleform.resetFields()\r\n                this.$emit(\"hide\")\r\n                this.clearRow()\r\n            },\r\n            save(){\r\n                this.$refs.ruleform.validate((vaild)=>{\r\n                    if(vaild){\r\n                        const id = this.ruleForm.employee_id\r\n                        if(id){\r\n                                post(`/employees/${id}`,this.ruleForm).then(()=>{\r\n                                    console.log(this.$notify,this)\r\n                                this.$notify({\r\n                                    title: '操作成功',\r\n                                    type: 'success'\r\n                                });\r\n                                this.close();\r\n                                this.$emit(\"reload\")\r\n                            })\r\n                        } else {\r\n                            post(\"/employees/entry\",this.ruleForm).then(()=>{\r\n                                this.$notify({\r\n                                    title: '操作成功',\r\n                                    type: 'success'\r\n                                });\r\n                                this.close();\r\n                                this.$emit(\"reload\")\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StaffModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StaffModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaffModal.vue?vue&type=template&id=61da4a46&scoped=true&\"\nimport script from \"./StaffModal.vue?vue&type=script&lang=js&\"\nexport * from \"./StaffModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61da4a46\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n    <div>\r\n        <BreadCrumb  />\r\n        <el-card class=\"mt\">\r\n            <el-row>\r\n                <el-col :span=\"6\">\r\n                    <el-input placeholder=\"请输入员工号或姓名\" v-model=\"params.searchValue\" class=\"input-with-select\">\r\n                        <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\r\n                    </el-input>\r\n                </el-col>\r\n                <el-col :span=\"18\"  class=\"operate\">\r\n                    <el-button type=\"primary\" @click=\"visible=true\">员工入职</el-button>\r\n                    <!-- <el-button :disabled=\"!select.length\" @click=\"operate(1)\">审核</el-button>\r\n                    <el-button :disabled=\"!select.length\" @click=\"operate(2)\">修改</el-button>\r\n                    <el-button :disabled=\"!select.length\" @click=\"operate(3)\">作废</el-button> -->\r\n                </el-col>\r\n            </el-row>\r\n        </el-card>\r\n        <el-card>\r\n            <el-table \r\n                :data=\"tableData\" \r\n                style=\"width: 100%\" \r\n                v-loading=\"loading\"  \r\n                element-loading-text=\"拼命加载中\"\r\n                element-loading-spinner=\"el-icon-loading\"\r\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n                @selection-change=\"handleSelectionChange\"\r\n            >\r\n                <el-table-column type=\"selection\"></el-table-column>\r\n                <el-table-column prop=\"employee_id\" label=\"员工号\" width=\"100\" fixed=\"left\"></el-table-column>\r\n                <el-table-column prop=\"name\" label=\"姓名\" width=\"120\" fixed=\"left\"></el-table-column>\r\n                <el-table-column prop=\"mobile_phone\" label=\"手机\" width=\"250\"></el-table-column>\r\n                <el-table-column prop=\"QQ\" label=\"QQ\" width=\"250\"></el-table-column>\r\n                <el-table-column prop=\"email\" label=\"邮箱\" width=\"250\"></el-table-column>\r\n                <el-table-column prop=\"landline_phone\" label=\"座机电话\" width=\"200\"></el-table-column>\r\n                <!-- <el-table-column prop=\"start\" label=\"名下资产\" width=\"250\"></el-table-column> -->\r\n                <el-table-column prop=\"begin_date\" label=\"入职时间\" width=\"250\"></el-table-column>\r\n                <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-button size=\"mini\" @click=\"edit(scope.row)\">编辑</el-button>\r\n                        <!-- <el-button size=\"mini\" @click=\"edit(employee_id)\">编辑</el-button> -->\r\n                        <el-button type=\"danger\" size=\"mini\" @click=\"deletes(scope.row.employee_id)\">离职</el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <el-pagination\r\n                class=\"fr mt mb\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"params.page\"\r\n                :page-sizes=\"[10, 20, 30, 40]\"\r\n                :page-size=\"params.per_page\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\"\r\n            >\r\n            </el-pagination>\r\n        </el-card>\r\n        <StaffModal :visible=\"visible\" @hide=\"visible=false\" @reload=\"loadData()\"/>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n// import breadCrumb from \"@/mixins/breadCrumb\"\r\nimport BreadCrumb from \"@/components/BreadCrumb\"\r\nimport StaffModal from \"./StaffModal.vue\"\r\nimport {post,Put} from \"@/utils/http\"\r\nimport {mapMutations} from \"vuex\"\r\n    export default {\r\n    //    mixins:[breadCrumb],\r\n       components:{BreadCrumb, StaffModal},\r\n       data(){\r\n        return{\r\n            tableData:[],\r\n            loading:false,\r\n            total:0,\r\n            select:\"\",\r\n            params:{\r\n                searchValue:\"\",\r\n                page:1,\r\n                per_page:10\r\n            },\r\n            visible:false,\r\n        }\r\n       },\r\n       created(){\r\n        this.loadData()\r\n       },\r\n       methods:{\r\n        async loadData(){\r\n            this.loading=true\r\n            const res = await post('/employees/list',this.params)\r\n            this.tableData = res.data.rows\r\n            this.total=res.data.count\r\n            this.loading=false\r\n        },\r\n        handleSizeChange(per_page){\r\n            this.params.per_page=per_page;\r\n            this.loadData()\r\n        },\r\n        handleCurrentChange(page){\r\n            this.params.page=page;\r\n            this.loadData()\r\n        },\r\n        handleSelectionChange(selection){\r\n            this.select=selection\r\n        },\r\n        operate(type){\r\n            let nos=this.select.map(item=>item.id);\r\n            this.$notify({\r\n                title: '操作成功',\r\n                message: [nos,type],\r\n                type: 'success'\r\n            });\r\n        },\r\n        deletes(id){\r\n            Put(`/employees/${id}/dimission`).then(()=>{\r\n                this.$message({\r\n                    message:'操作成功',\r\n                    type:'success'\r\n                }).then(()=>{\r\n                    this.loadData\r\n                })\r\n            })\r\n        },\r\n        ...mapMutations([\"setRow\"]),\r\n        edit(row){\r\n            this.setRow(row);\r\n            this.visible=true;\r\n        },\r\n       }\r\n    }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.operate{\r\n    text-align: right;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StaffList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./StaffList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StaffList.vue?vue&type=template&id=c03468ea&scoped=true&\"\nimport script from \"./StaffList.vue?vue&type=script&lang=js&\"\nexport * from \"./StaffList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./StaffList.vue?vue&type=style&index=0&id=c03468ea&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c03468ea\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","attrs","_l","breadList","item","index","key","_v","_s","staticRenderFns","data","created","watch","$route","methods","getBreadCrumb","component","staticClass","model","value","params","searchValue","callback","$$v","$set","expression","slot","on","$event","visible","directives","name","rawName","loading","staticStyle","tableData","handleSelectionChange","scopedSlots","_u","fn","scope","edit","row","deletes","employee_id","page","per_page","total","handleSizeChange","handleCurrentChange","loadData","title","close","ref","ruleForm","rules","landline_phone","mobile_phone","QQ","email","begin_date","save","props","required","message","trigger","cargo","count","pattern","unit","price","from","pay","computed","post","console","type","components","BreadCrumb","StaffModal","select","operate","Put","then"],"sourceRoot":""}